import type { Metadata } from "next";

import { TutorialLayout } from "@/components/TutorialLayout";

import Style from "@/styles/tutorial-content.module.css";

export const metadata: Metadata = {
  title: "Gitを使ってみる〜Gitの概念〜 - IT委員会チュートリアル",
  description: "Gitの基本的な概念の説明",
};

export default function GitPage() {
  return (
    <TutorialLayout title="Gitを使ってみる〜Gitの概念〜">
      <h2>そもそもの話</h2>
      <p>
        パソコンというものについての性質を知る必要があります。
        <br />
        みなさんはプログラムという言葉を聞いたことはありますでしょうか。
        <br />
        パソコンに対する命令みたいなものだという認識でいてもらえれば、とくに問題ないと思います。
        <br />
        パソコンというものは、プログラムに書かれていることを実行するものなのです。
        つまり、裏を返せば、プログラムに書かれていることしかやらない、プログラムが同じであれば必ず同じことをするものなのです。
      </p>
      <h2>さて、ときは遡り2005年</h2>
      <p>
        2005年というと、今想像するパソコンとはまた違ったパソコンが存在していた時代のことです。
        <br />
        当時は、自分たちが書いたプログラムを管理するために、BitKeeperと呼ばれる、現代のGitと同じようなものを使用して、書いたプログラムを管理・共有していました。
        <br />
        しかし、2005年になると、BitKeeperが(様々な理由があって)無料での利用を廃止しました。
        <br />
        これを受けて、代替案が必要だと感じた、Linuxカーネルの開発のトップの人として知られているLinus
        Torvalds氏が1日で作り上げたものが<code>Git</code>です。
      </p>
      <h2>
        BitKeeperも含めて、なぜわざわざプログラムを管理するためのツールが必要なのか
      </h2>
      <p>まずいくつかの要因があります。</p>
      <h3>プログラムのバージョン管理がしたい</h3>
      <p>
        バージョン管理というと聞き慣れない言葉かもしれませんが、「○月○日に書いたときのプログラムは動いていたけど、今は動かない」となったときに、その時までプログラムがそのまま戻せると嬉しいですよね。
        <br />
        これを実現できるのが一般的に言う「バージョン管理」です。
        <br />
        これによって動かないプログラムを書いても、すぐに戻せることや、前回からの変更をみて何が影響しているのか簡単に見られるようになります。
        <br />
        <br />
        <span className={Style.caution}>
          動かないプログラムを作成することがなるべく避けるべきことなのはバージョン管理ができる前も後も同じです。
        </span>
      </p>
      <h3>同時に複数の人とプログラムを書きたい</h3>
      <p>
        皆さんはワードを他人と共有しながら編集することはありますか？
        <br />
        もちろんそのような作業の仕方も悪くないですが、当時はまだインターネットが高速でなかったことから、同時編集は厳しかったのではないかと思います（ちなみに現代はできるものもあります）。
        <br />
        そのため、プログラムを各々が各々のタイミングで書くことができる仕組みが必要でした。
        <br />
        そしてそれをGitが可能にしてくれました(BitKeeperでもできましたが)。
      </p>
      <p>
        具体的には、それぞれが同じファイルでも、別々の場所を変更すると、変更したものが
        <code>patch</code>
        と呼ばれるものに変換され、差分を管理し続ける構造をGitは採用しています。
        <br />
        これによって、複数人がプログラムを変更しても、特に問題なくそれぞれの変更を融合することができる仕組みが出来上がりました。
        <br />
        <span className={Style.caution}>
          すべての変更がうまく融合されるわけではありません。特に、同じファイルの同じ行に対する変更は基本的にはGitだけでは解決できないため、手動で修正する必要があります。
        </span>
      </p>

      <h2>Gitの基本的な概念</h2>
      <h3>リポジトリ（Repository）</h3>
      <p>
        リポジトリとは、プロジェクトのファイルや変更履歴を保存する場所のことです。
        <br />
        Gitでは、プロジェクトのフォルダ内に<code>.git</code>
        という隠しフォルダが作られ、そこにすべての情報が保存されます。
      </p>

      <h3>コミット（Commit）</h3>
      <p>
        コミットとは、ファイルの変更を記録するスナップショットのようなものです。
        <br />
        各コミットには以下の情報が含まれます：
      </p>
      <ul>
        <li>変更されたファイルの内容</li>
        <li>コミットメッセージ（何を変更したかの説明）</li>
        <li>作成者の情報（名前とメールアドレス）</li>
        <li>コミットの日時</li>
        <li>親コミット（前のコミット）への参照</li>
      </ul>

      <h3>ブランチ（Branch）</h3>
      <p>
        ブランチは、開発の流れを分岐させる機能です。
        <br />
        例えば、新機能を開発する際に、メインの開発ラインとは別のブランチを作成することで、メインのコードに影響を与えずに作業ができます。
        <br />
        作業が完了したら、そのブランチをメインに統合（マージ）します。
      </p>

      <h3>ステージング（Staging Area）</h3>
      <p>
        Gitには「ステージングエリア」という独特の概念があります。
        <br />
        ファイルを変更した後、すぐにコミットするのではなく、まず「ステージング」という準備段階を経てからコミットします。
        <br />
        これにより、複数のファイルを変更した場合でも、コミットに含めるファイルを選択できます。
      </p>

      <h3>リモートリポジトリ（Remote Repository）</h3>
      <p>
        リモートリポジトリとは、インターネット上やネットワーク上にあるリポジトリのことです。
        <br />
        GitHub、GitLab、Bitbucketなどのサービスがリモートリポジトリのホスティングを提供しています。
        <br />
        ローカル（自分のパソコン）で作業した内容をリモートにアップロード（プッシュ）したり、リモートの変更をダウンロード（プル）したりできます。
      </p>

      <h2>Gitの基本的なワークフロー</h2>
      <p>一般的なGitの作業の流れは以下のようになります：</p>
      <ol>
        <li>ファイルを編集する</li>
        <li>
          変更したファイルをステージングエリアに追加する（<code>git add</code>）
        </li>
        <li>
          ステージングエリアの内容をコミットする（<code>git commit</code>）
        </li>
        <li>
          必要に応じてリモートリポジトリにプッシュする（<code>git push</code>）
        </li>
      </ol>

      <h2>Gitのメリット</h2>
      <ul>
        <li>
          <strong>変更履歴の追跡：</strong>
          いつ、誰が、何を変更したかが明確にわかる
        </li>
        <li>
          <strong>安全な実験：</strong>ブランチを使って新機能を安全に試せる
        </li>
        <li>
          <strong>チーム開発：</strong>複数人で同時に作業できる
        </li>
        <li>
          <strong>バックアップ：</strong>
          リモートリポジトリに保存することで、ローカルのデータが失われても復旧できる
        </li>
        <li>
          <strong>共有機能：</strong>書いたことを簡単に共有できる。
        </li>
      </ul>

      <h2>次のステップ</h2>
      <p>
        Gitの基本的な概念を理解したら、実際にGitコマンドを使って操作してみましょう。
        <br />
        次のチュートリアルでは、実際のコマンドと具体的な使い方について学びます。
      </p>
    </TutorialLayout>
  );
}
